#!/usr/bin/env bash

declare -A NOTES
NOTES["1"]="27.5000"
NOTES["2"]="29.1352"
NOTES["3"]="30.8677"
NOTES["4"]="32.7032"
NOTES["5"]="34.6478"
NOTES["6"]="36.7081"
NOTES["7"]="38.8909"
NOTES["8"]="41.2034"
NOTES["9"]="43.6535"
NOTES["10"]="46.2493"
NOTES["11"]="48.9994"
NOTES["12"]="51.9131"
NOTES["13"]="55.0000"
NOTES["14"]="58.2705"
NOTES["15"]="61.7354"
NOTES["16"]="65.4064"
NOTES["17"]="69.2957"
NOTES["18"]="73.4162"
NOTES["19"]="77.7817"
NOTES["20"]="82.4069"
NOTES["21"]="87.3071"
NOTES["22"]="92.4986"
NOTES["23"]="97.9989"
NOTES["24"]="103.826"
NOTES["25"]="110.000"
NOTES["26"]="116.541"
NOTES["27"]="123.471"
NOTES["28"]="130.813"
NOTES["29"]="138.591"
NOTES["30"]="146.832"
NOTES["31"]="155.563"
NOTES["32"]="164.814"
NOTES["33"]="174.614"
NOTES["34"]="184.997"
NOTES["35"]="195.998"
NOTES["36"]="207.652"
NOTES["37"]="220.000"
NOTES["38"]="233.082"
NOTES["39"]="246.942"
NOTES["40"]="261.626"
NOTES["41"]="277.183"
NOTES["42"]="293.665"
NOTES["43"]="311.127"
NOTES["44"]="329.628"
NOTES["45"]="349.228"
NOTES["46"]="369.994"
NOTES["47"]="391.995"
NOTES["48"]="415.305"
NOTES["49"]="440.000"
NOTES["50"]="466.164"
NOTES["51"]="493.883"
NOTES["52"]="523.251"
NOTES["53"]="554.365"
NOTES["54"]="587.330"
NOTES["55"]="622.254"
NOTES["56"]="659.255"
NOTES["57"]="698.456"
NOTES["58"]="739.989"
NOTES["59"]="783.991"
NOTES["60"]="830.609"
NOTES["61"]="880.000"
NOTES["62"]="932.328"
NOTES["63"]="987.767"
NOTES["64"]="1046.50"
NOTES["65"]="1108.73"
NOTES["66"]="1174.66"
NOTES["67"]="1244.51"
NOTES["68"]="1318.51"
NOTES["69"]="1396.91"
NOTES["70"]="1479.98"
NOTES["71"]="1567.98"
NOTES["72"]="1661.22"
NOTES["73"]="1760.00"
NOTES["74"]="1864.66"
NOTES["75"]="1975.53"
NOTES["76"]="2093.00"
NOTES["77"]="2217.46"
NOTES["78"]="2349.32"
NOTES["79"]="2489.02"
NOTES["80"]="2637.02"
NOTES["81"]="2793.83"
NOTES["82"]="2959.96"
NOTES["83"]="3135.96"
NOTES["84"]="3322.44"
NOTES["85"]="3520.00"
NOTES["86"]="3729.31"
NOTES["87"]="3951.07"
NOTES["88"]="4186.01"
NOTES["A#0"]="29.1352"
NOTES["A#1"]="58.2705"
NOTES["A#2"]="116.541"
NOTES["A#3"]="233.082"
NOTES["A#4"]="466.164"
NOTES["A#5"]="932.328"
NOTES["A#6"]="1864.66"
NOTES["A#7"]="3729.31"
NOTES["A0"]="27.5000"
NOTES["A1"]="55.0000"
NOTES["A2"]="110.000"
NOTES["A3"]="220.000"
NOTES["A4"]="440.000"
NOTES["A5"]="880.000"
NOTES["A6"]="1760.00"
NOTES["A7"]="3520.00"
NOTES["Ab1"]="51.9131"
NOTES["Ab2"]="103.826"
NOTES["Ab3"]="207.652"
NOTES["Ab4"]="415.305"
NOTES["Ab5"]="830.609"
NOTES["Ab6"]="1661.22"
NOTES["Ab7"]="3322.44"
NOTES["B0"]="30.8677"
NOTES["B1"]="61.7354"
NOTES["B2"]="123.471"
NOTES["B3"]="246.942"
NOTES["B4"]="493.883"
NOTES["B5"]="987.767"
NOTES["B6"]="1975.53"
NOTES["B7"]="3951.07"
NOTES["Bb0"]="29.1352"
NOTES["Bb1"]="58.2705"
NOTES["Bb2"]="116.541"
NOTES["Bb3"]="233.082"
NOTES["Bb4"]="466.164"
NOTES["Bb5"]="932.328"
NOTES["Bb6"]="1864.66"
NOTES["Bb7"]="3729.31"
NOTES["C#1"]="34.6478"
NOTES["C#2"]="69.2957"
NOTES["C#3"]="138.591"
NOTES["C#4"]="277.183"
NOTES["C#5"]="554.365"
NOTES["C#6"]="1108.73"
NOTES["C#7"]="2217.46"
NOTES["C1"]="32.7032"
NOTES["C2"]="65.4064"
NOTES["C3"]="130.813"
NOTES["C4"]="261.626"
NOTES["C5"]="523.251"
NOTES["C6"]="1046.50"
NOTES["C7"]="2093.00"
NOTES["C8"]="4186.01"
NOTES["D#1"]="38.8909"
NOTES["D#2"]="77.7817"
NOTES["D#3"]="155.563"
NOTES["D#4"]="311.127"
NOTES["D#5"]="622.254"
NOTES["D#6"]="1244.51"
NOTES["D#7"]="2489.02"
NOTES["D1"]="36.7081"
NOTES["D2"]="73.4162"
NOTES["D3"]="146.832"
NOTES["D4"]="293.665"
NOTES["D5"]="587.330"
NOTES["D6"]="1174.66"
NOTES["D7"]="2349.32"
NOTES["Db1"]="34.6478"
NOTES["Db2"]="69.2957"
NOTES["Db3"]="138.591"
NOTES["Db4"]="277.183"
NOTES["Db5"]="554.365"
NOTES["Db6"]="1108.73"
NOTES["Db7"]="2217.46"
NOTES["E1"]="41.2034"
NOTES["E2"]="82.4069"
NOTES["E3"]="164.814"
NOTES["E4"]="329.628"
NOTES["E5"]="659.255"
NOTES["E6"]="1318.51"
NOTES["E7"]="2637.02"
NOTES["Eb1"]="38.8909"
NOTES["Eb2"]="77.7817"
NOTES["Eb3"]="155.563"
NOTES["Eb4"]="311.127"
NOTES["Eb5"]="622.254"
NOTES["Eb6"]="1244.51"
NOTES["Eb7"]="2489.02"
NOTES["F#1"]="46.2493"
NOTES["F#2"]="92.4986"
NOTES["F#3"]="184.997"
NOTES["F#4"]="369.994"
NOTES["F#5"]="739.989"
NOTES["F#6"]="1479.98"
NOTES["F#7"]="2959.96"
NOTES["F1"]="43.6535"
NOTES["F2"]="87.3071"
NOTES["F3"]="174.614"
NOTES["F4"]="349.228"
NOTES["F5"]="698.456"
NOTES["F6"]="1396.91"
NOTES["F7"]="2793.83"
NOTES["G#1"]="51.9131"
NOTES["G#2"]="103.826"
NOTES["G#3"]="207.652"
NOTES["G#4"]="415.305"
NOTES["G#5"]="830.609"
NOTES["G#6"]="1661.22"
NOTES["G#7"]="3322.44"
NOTES["G1"]="48.9994"
NOTES["G2"]="97.9989"
NOTES["G3"]="195.998"
NOTES["G4"]="391.995"
NOTES["G5"]="783.991"
NOTES["G6"]="1567.98"
NOTES["G7"]="3135.96"
NOTES["Gb1"]="46.2493"
NOTES["Gb2"]="92.4986"
NOTES["Gb3"]="184.997"
NOTES["Gb4"]="369.994"
NOTES["Gb5"]="739.989"
NOTES["Gb6"]="1479.98"
NOTES["Gb7"]="2959.96"

if [[ "x" == "x$1" ]]; then
  WAVE="triangle"
else
  WAVE="$1"
fi
shift

if [[ "x" == "x$1" ]]; then
  FREQ="${NOTES["A4"]}"
else
  FREQ="${NOTES["$1"]}"
fi
shift

if [[ "x" == "x$1" ]]; then
  DURATION="0.1"
else
  DURATION="$1"
fi
shift

echo "FREQ = $FREQ; DURATION = $DURATION"
play -q -n synth "$WAVE" "$FREQ" fade 0 "$DURATION" 0
